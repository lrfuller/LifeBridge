<!-- formatting code: -->
<a class="news" href="/Main/PressReleases/[cp:scripting key='Column' name='AutoNumber' /].aspx">
    [cp:scripting key='Column' name='Title' /] </a>&nbsp;[cp:scripting key='Column' name='StartDate' DataType='DateTime'
format='{0:d}' /]
[cp:scripting key='Column' name='SubTitle' format='{0}' /]
<div style="padding-bottom: 2px;">
</div>


<script>

    // document.addEventListener('DOMContentLoaded', function () {
    setTimeout(function () {
        createHeader();
    }, 1000);
    // }, false);

    createHeader = function () {
        let rowCollection = document.getElementById("lifebridge").nextSibling.nextSibling.children[0].children;
        let table = document.getElementById("lifebridge").nextSibling.nextSibling;
        let rows = [].slice.call(rowCollection);
        let firstDate = rows[0].innerText;
        const datePattern = /(\d{1,2})\/(\d{1,2})\/(\d{4})/;

        let dateTemp = datePattern.exec(rows[0].innerText);
        let previousYear = dateTemp[3];
        let j = 0;

        for (i = 0; i < rows.length; i++) {
            let date = datePattern.exec(rows[i].innerText);
            let year = date[3];
            console.log(date)
            if (previousYear != year) {
                let header = "<h2>" + year + "</h2>";
                let cell = table.insertRow(i + j);
                cell.innerHTML = header;
                previousYear = year;
                year = year - 1;
                console.log(rows.length - 1)
                i++
                j++
            }
            console.log("i = " + i + "/" + rows.length)
        }

    }

</script>